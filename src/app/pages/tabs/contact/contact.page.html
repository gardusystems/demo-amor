<ion-header >
  <ion-toolbar color="tertiary">
    <ion-buttons slot="start">
      <ion-menu-button autoHide="false"></ion-menu-button>
    </ion-buttons>
    <ion-title class="ion-no-padding">Contacto</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="false">
  <ion-card>
    <ion-card-content class="ion-margin-bottom">
      <form 
      [formGroup]="userForm"
      (ngSubmit)="messageData(userForm.value)"
      >
      <ion-item class="ion-no-padding">
        <ion-label position="stacked" class="titleinput">Nombre</ion-label>
        <ion-input formControlName="full_name" type="text" placeholder="Ingresa tu nombre"></ion-input>
      </ion-item>
      <ng-container *ngFor="let validation of validation_messages.full_name">
        <div class="validation"
          *ngIf="userForm.get('full_name').hasError(validation.type) && 
                     (userForm.get('full_name').dirty ||
                     userForm.get('full_name').touched)"
        >
          {{ validation.message}}
        </div>
      </ng-container>
      <ion-item class="ion-no-padding">
        <ion-label position="stacked" class="titleinput">Email</ion-label>
        <ion-input formControlName="email" type="text" placeholder="Email"></ion-input>
      </ion-item>
      <ng-container *ngFor="let validation of validation_messages.email">
        <div class="validation"
          *ngIf="userForm.get('email').hasError(validation.type) && 
                       (userForm.get('email').dirty ||
                       userForm.get('email').touched)"
        >
          {{ validation.message}}
        </div>
      </ng-container>
      <ion-item class="ion-no-padding">
        <ion-label position="stacked" class="titleinput">Comentarios</ion-label>
        
        <ion-textarea formControlName="message" type="text" placeholder="Comentarios" rows="5" cols="40"></ion-textarea>
      </ion-item>
      <ng-container *ngFor="let validation of validation_messages.message">
        <div class="validation"
          *ngIf="userForm.get('message').hasError(validation.type) && 
                     (userForm.get('message').dirty ||
                     userForm.get('message').touched)"
        >
          {{ validation.message}}
        </div>
      </ng-container>
      </form>  
    </ion-card-content>
  </ion-card>
  <ion-fab vertical="bottom" horizontal="end" slot="fixed" class="ion-margin">
    <ion-fab-button (click)="send()" color="secondary" [disabled]="!userForm.valid">
      <ion-icon name="send-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
