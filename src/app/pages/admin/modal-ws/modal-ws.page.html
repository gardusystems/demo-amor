<ion-header>
  <ion-toolbar style="padding-right: 0; padding-left: 52px;">
    <ion-title>{{title}}</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="closeModal()">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>

  <!--SEGMENT CON EDITAR LECCION y CONTENIDOS-->
  
  <ng-container>
    <app-lessons
    *ngIf="lesson.id_lesson"
    [lesson]="lesson"
    [editing]="true"
    (saveLesson)="saveLesson($event)"
  ></app-lessons>
  </ng-container>

  <ng-container>
    <!--CONTENTS SEGMENT-->
    
    <!--CONTENTS FORM EN MODO AGREGAR-->

    <!--LISTA DE CONTENTS FORM EN MODO EDITAR-->
  </ng-container>

  <ion-card *ngFor="let content of lesson.contents">
    <ion-card-content *ngIf="content.type == '1'">
      <form
        [formGroup]="contentForm"
        (ngSubmit)="contentData(contentForm.value)"
      >
        <ion-item class="ion-no-padding">
          <ion-label position="stacked" class="titleinput">Titulo</ion-label>
          <ion-input
            formControlName="title"
            type="text"
            placeholder="Ingresa un titulo"
          ></ion-input>
        </ion-item>
        <ion-item class="ion-no-padding">
          <ion-label position="stacked" class="titleinput">url</ion-label>
          <ion-input
            formControlName="title"
            type="text"
            placeholder="Ingresa una url"
          ></ion-input>
        </ion-item>
      </form>
      <ion-list-header>
        <ion-label color="secondary">Vista previa</ion-label>
      </ion-list-header>
      <iframe
        width="100%"
        height="200"
        [src]="content.url | safe:'resourceUrl'"
        id="video"
        frameborder="0"
        allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen
      ></iframe>
    </ion-card-content>
  </ion-card>
</ion-content>
